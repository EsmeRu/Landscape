<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas</title>
	<style>
		canvas{
			box-shadow: 9px 8px 26px 2px rgba(0,0,0,0.63);
		}
	</style>
</head>
<body>

	<center>
		<canvas id="canvas" width="500" height="700" >
			El navegador no soporta canvas
		</canvas>
	</center>

    <script>
        var canvas = null;
        var ctx = null;

        function paint (ctx){
            //Fondo
            var grad = ctx.createLinearGradient(0,200,0,0)
            grad.addColorStop(1, "#1622a6")
            grad.addColorStop(0, "#008CE4");
            ctx.fillStyle = grad;
			ctx.fillRect(0,0,500,700);

            //Monta√±as
            tringulo(120, 250, 220, 437, 0, 400, 120, 250, true, "rgba(255,255,255,0.5641711229946524)")

            tringulo(300, 290, 600, 501, 130, 422, 300, 290, true, "#FFFF")

            //Estrellas
            estrellas();

            //Luna
            shadow(30, "rgba(0, 0, 0, 0.349", 15, 15);
            ctx.beginPath();
            ctx.arc(250, 150, 50, 0,  2*Math.PI);
            ctx.fill();
            ctx.closePath();
            
            
            //Pasto
            shadow(50, "rgba(0, 0, 0, 0.349", 15, 15);
            ctx.filter = 'grayscale(30%)';
            tringulo(0, 400, 590, 500, 0, 600, 0, 400, true, "#023A1F")
            
            tringulo(500, 500, -100, 600, 500, 655, 500, 500, true, "#006837")

            tringulo(0, 600, 900, 700, 0, 700, 0, 600, true, "#009345")

            shadow(0, "rgba(0, 0, 0, 0.149", 5, 0);
            ctx.filter = 'grayscale(0%)';
            
            //Pinos
            pino(tringulo(30, 595, 50, 680, 10, 680, 30, 595, true, "#057D1C"), 25, 680, 10, 5)
            
            pino(tringulo(100, 590, 115, 650, 85, 650, 100, 590, true, "#067C1A"), 96, 650, 7, 4)

            pino(tringulo(400, 658, 415, 700, 385, 700, 400, 658, true, "#057D1C"), 96, 650, 7, 4)

            pino(tringulo(250, 560, 265, 610, 235, 610, 250, 560, true, "#044A0D"), 247, 610, 7, 3)
            
            pino(tringulo(350, 570, 365, 620, 335, 620, 350, 570, true, "#044A0D"), 347, 620, 7, 3)

            pino(tringulo(50, 470, 60, 520, 40, 520, 50, 470, true, "#062506"), 47, 520, 7, 2)

            pino(tringulo(200, 460, 210, 500, 190, 500, 200, 460, true, "#062506"), 197, 500, 7, 1)

            pino(tringulo(100, 410, 107, 440, 93, 440, 100, 410, true, "#062506"), 98, 440, 5, 1)

            pino(tringulo(300, 445, 303, 458, 297, 458, 300, 445, true, "#062506"))

            pino(tringulo(350, 445, 355, 470, 345, 470, 350, 445, true, "#062506"))
			
        }

        function run (){
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            paint(ctx);
        }

        function tringulo (move_x, move_y, line1_x, line1_y, line2_x, line2_y, line3_x, line3_y, fill, color){

            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(move_x, move_y)
            ctx.lineTo(line1_x, line1_y)
            ctx.lineTo(line2_x, line2_y)
            ctx.lineTo(line3_x, line3_y)
            if(fill === true)
                ctx.fill();
            else
                ctx.stroke();

            ctx.closePath();
        }
        
        function pino (triangulo, x, y, w, h){
            tringulo(tringulo.move_x, tringulo.move_y, tringulo.line1_x, tringulo.line1_y, tringulo.line2_x, tringulo.line2_y, tringulo.line3_x, tringulo.line3_y, tringulo.fill, tringulo.color);

            ctx.fillStyle = "#814413"
            ctx.fillRect(x, y, w, h);

        }

        function estrellas (){
            ctx.fillStyle = "#FFFF";
            for(var i=0; i<=50; i++){
                var x = Math.random() * (480 - 20) + 20;
                var y = Math.random() * (180 - 20) + 20;

                ctx.beginPath();
                ctx.arc(x, y, 1, 0,  2*Math.PI);
                ctx.fill();
                ctx.closePath();
            }
        }

        function shadow (blur, color, x, y){
            ctx.shadowBlur= blur;
            ctx.shadowColor= color;
            ctx.shadowOffsetX = x;
            ctx.shadowOffsetY = y;
        }
        
        window.addEventListener('load', run, false);


        
    </script>
    
</body>
</html>